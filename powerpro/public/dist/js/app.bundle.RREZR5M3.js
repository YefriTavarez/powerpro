(()=>{var _=Object.defineProperty;var l=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var n=(o,t,e)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,p=(o,t)=>{for(var e in t||(t={}))s.call(t,e)&&n(o,e,t[e]);if(l)for(var e of l(t))d.call(t,e)&&n(o,e,t[e]);return o};frappe.provide("power.utils");function u(o,t){let e=flt(o,3);return Math.round(e/t)*t}function f(o){return u(o,1/8)}power.utils={round_to_nearest_eighth:f};frappe.provide("power.ui");frappe.provide("power.utils");var{round_to_nearest_eighth:i}=power.utils;power.ui.CreateMaterialSKU=function(o){let t;t=frappe.prompt([{fieldtype:"Section Break",label:__("Material Specification")},{fieldname:"material_format",fieldtype:"Select",label:__("Material Format"),reqd:1,default:"Roll",options:["Roll","Sheet"],change(e){t.set_df_property("roll_width","reqd",e.target.value==="Roll"),t.set_df_property("roll_width","hidden",e.target.value==="Sheet"),t.set_df_property("sheet_width","reqd",e.target.value==="Sheet"),t.set_df_property("sheet_width","hidden",e.target.value==="Roll"),t.set_df_property("sheet_height","reqd",e.target.value==="Sheet"),t.set_df_property("sheet_height","hidden",e.target.value==="Roll")}},{fieldtype:"Column Break"},{fieldname:"roll_width",fieldtype:"Float",label:__("Roll Width"),reqd:1,precision:3,async change(e){let{target:a}=e;await frappe.timeout(.1);let r=i(a.value);a.value!==r&&(a.value=r)}},{fieldname:"sheet_width",fieldtype:"Float",label:__("Sheet Width"),hidden:1,precision:3,async change(e){let{target:a}=e;await frappe.timeout(.1);let r=i(a.value);a.value!==r&&(a.value=r)}},{fieldname:"sheet_height",fieldtype:"Float",label:__("Sheet Height"),hidden:1,precision:3,async change(e){let{target:a}=e;await frappe.timeout(.1);let r=i(a.value);a.value!==r&&(a.value=r)}},{fieldtype:"Section Break",label:__("Weight")},{fieldname:"gsm",fieldtype:"Int",non_negative:1,reqd:1,label:__("GSM"),async change(e){let{target:a}=e;await frappe.timeout(.1),a.value||(a.value=0),a.value<0&&(a.value=0,frappe.show_alert({message:__("GSM cannot be negative!"),indicator:"red"}))}}],function(e){frappe.call("powerpro.manufacturing_pro.doctype.raw_material.client.create_material_sku",p({material_id:o},e)).then(function(a){let{message:r}=a;r?(frappe.confirm(`
					Here is the SKU <strong>${r}</strong>
					<button class="btn btn-info" onclick="frappe.utils.copy_to_clipboard('${r}')">Copy to Clipboard</button>
					<br>Do you want me to take you there?
				`,()=>{frappe.set_route("Form","Item",r)},()=>{frappe.show_alert({message:__("Alright... let's be productive, then!"),indicator:"green"})}),frappe.show_alert({message:r,indicator:"green"})):(frappe.show_alert({message:__("SKU not created!"),indicator:"red"}),frappe.confirm(__("Would you like to try again?"),()=>t.show(),()=>frappe.show_alert(__("Okay!"))))},function(a){frappe.show_alert({message:__("SKU not created!"),indicator:"red"}),frappe.confirm(__("Would you like to try again?"),()=>t.show(),()=>frappe.show_alert(__("Okay!")))})},"Create a new SKU","Please, do!")};})();
//# sourceMappingURL=app.bundle.RREZR5M3.js.map
